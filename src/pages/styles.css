:root {
	--grid-col-min-width: 14rem;

	--primary-gradient: linear-gradient(135deg, #CB3CFF 20%, #7F25FB 68%);
	--primary-gradient-opacity: linear-gradient(135deg, rgba(203, 60, 255, 0.5) 20%, rgba(127, 37, 251, 0.5) 68%);
	--secondary-gradient: linear-gradient(135deg, #0E43FB 20%, #0936D9 68%);
	--context-gradient: linear-gradient(135deg, #2948d5 20%, #6b33c5 68%);
	--accent-gradient: linear-gradient(135deg, #21C3FC 20%, #1E9EE2 68%);
	--success-gradient: linear-gradient(135deg, #00B894 20%, #00907D 68%);
	--danger-gradient: linear-gradient(135deg, #FF6B6B 20%, #FF4242 68%);

	--primary-color: #CB3CFF;
	--secondary-color: #7F25FB;
	--accent-color: #21C3FC;
	--text-color: #FFFFFF;
	--text-color-weak: rgba(255, 255, 255, 0.8);
	--text-secondary: rgba(255, 255, 255, 0.7);
	--background-color: #121212;
	--card-background: rgba(30, 30, 30, 0.95);
	--success-color: #00B894;
	--danger-color: #FF6B6B;
	--border-radius: 16px;
	--border-radius-small: 10px;
	--shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.2);
	--shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.3);

	/* Typography */
	--font-family: 'Poppins', system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
	--font-weight-light: 300;
	--font-weight-normal: 400;
	--font-weight-medium: 500;
	--font-weight-semibold: 500;
	--font-weight-bold: 600;

	--toggle-unchecked-color: rgba(255, 107, 107, 0.7);
	--toggle-checked-color: rgba(46, 164, 140, 0.7);
	--toggle-light-text-color: blue;
	--toggle-dark-text-color: yellow;
	--toggle-slider-color: rgb(200, 200, 200);
	--toggle-transition-duration: 150ms;
}

html {
	letter-spacing: 0.05em;
	-webkit-font-smoothing: subpixel-antialiased;
	-moz-osx-font-smoothing: grayscale;
	text-rendering: optimizeLegibility;
}

html,
button {
	font-family: var(--font-family);
}

* {
	margin: 0;
	padding: 0;
	box-sizing: border-box;
}

button {
	cursor: default;
}

.support-option {
	cursor: pointer;
}

/* Permetre selecció de text només en imports i números importants */
.saldo-amount,
.compte-saldo,
.moviment-amount,
.targeta-numero,
.compte-numero {
	user-select: text;
	cursor: default;
}

body {
	font-family: var(--font-family);
	font-weight: var(--font-weight-normal);
	font-feature-settings: "ss01" on, "ss02" on, "ss03" on, "ss04" on;
	line-height: 1.6;
	color: var(--text-color);
	background: var(--background-color);
	/* backdrop-filter: blur(16px) saturate(180%); */
	min-height: 100vh;
	-webkit-font-smoothing: auto;
	-moz-osx-font-smoothing: auto;
	position: relative;
	overflow-y: auto;
}

body.preload {
	visibility: hidden;
}

/* Fons animat optimitzat */
body::before {
	content: '';
	position: fixed;
	width: 100%;
	height: 100%;
	background-image: linear-gradient(125deg,
			rgba(33, 195, 252, 0.1) 0%,
			rgba(0, 184, 148, 0.2) 25%,
			rgba(203, 60, 255, 0.1) 50%,
			rgba(127, 37, 251, 0.1) 100%);
	/* background-size: 500% 500%; */
	transform-origin: 45% 52%;
	/* will-change: transform; */
	z-index: -1;
	filter: blur(20px);
	/* border-radius: 40%; */

	/* animation: rotateGradient 20s linear infinite; */
}

body.preload::before {
	visibility: hidden;
}

/* Nova animació optimitzada */
@keyframes rotateGradient {
	from {
		transform: rotate(0deg);
	}

	to {
		transform: rotate(360deg);
	}
}

/* Header Styles */
header {
	background: rgba(18, 18, 18, 0.3);
	backdrop-filter: blur(16px) saturate(180%);
	color: var(--text-color);
	padding: 0.7rem 0;
	box-shadow: var(--shadow);
	position: sticky;
	top: 0;
	z-index: 800;
	border-bottom: 1px solid rgba(255, 255, 255, 0.1);
	overflow: hidden;
}

.header-content {
	max-width: 92%;
	margin: 0 auto;
	display: flex;
	align-items: center;
	justify-content: space-between;
}

h1 a {
	text-decoration: none;
	color: inherit;
	background: inherit;
	-webkit-background-clip: text;
	-webkit-text-fill-color: transparent;
	background-clip: text;
	display: flex;
	align-items: center;
	gap: 0.5rem;
	transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);
}

h1 a:hover {
	transform: translateY(-2px) scale(1.03);
}

h1 a:hover span {
	background-color: linear-gradient(135deg, #FF3CFF 20%, #9925FB 68%);
	background-clip: text;
	-webkit-background-clip: text;
	-webkit-text-fill-color: transparent;
	text-shadow: 0 0 20px rgba(203, 60, 255, 0.3);
}

.logo {
	display: flex;
	align-items: center;
	justify-content: center;
	font-size: 1.72rem;
	font-weight: 200;
}

.logo a {
	text-decoration: none;
	background-image: var(--primary-gradient);
	-webkit-background-clip: text;
	background-clip: text;
	-webkit-text-fill-color: transparent;
	display: flex;
	align-items: center;
	gap: 0.1rem;
}

.logo img {
	width: 38px;
	height: 38px;
	object-fit: contain;
	position: relative;
	top: 2px;
}

.logo span {
	background: var(--primary-gradient);
	background-clip: text;
	-webkit-background-clip: text;
	-webkit-text-fill-color: transparent;
	transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1);
	position: relative;
	top: 2px;
	text-shadow: 0 0 8px rgba(209, 81, 255, 0.3);

}

@keyframes glowPulse {
	0% {
		filter: drop-shadow(0 0 8px rgba(203, 60, 255, 0.3));
	}

	50% {
		filter: drop-shadow(0 0 12px rgba(203, 60, 255, 0.5));
	}

	100% {
		filter: drop-shadow(0 0 8px rgba(203, 60, 255, 0.3));
	}
}

h3 {
	font-size: 1em;
	font-weight: var(--font-weight-medium);
	cursor: default;
}

header .nav-container {
	text-align: center;
}

header .header-toast-message {
	transform: translateY(-80px);
	transition: transform 250ms ease;
	will-change: transform;
}

body.afclient-is-adding-context header .header-toast-message {
	transform: translateY(0px);
}

nav {
	transition: transform 250ms ease;
	will-change: transform;
}

body.afclient-is-adding-context nav {
	transform: translateY(80px);
}

nav ul {
	list-style: none;
	display: flex;
	gap: 0.4rem;
}

nav a,
nav button {
	color: var(--text-secondary);
	text-decoration: none;
	font-weight: 200;
	font-size: 0.85rem;
	display: flex;
	align-items: center;
	gap: 0.38rem;
	padding: 0.7rem 1.4rem;
	border-radius: 20px;
	transition: transform 250ms ease;
	position: relative;
	overflow: hidden;
	/* letter-spacing: 0.09em; */
	height: 46px;
	text-rendering: optimizelegibility;
}

nav a::before {
	content: '';
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	background: var(--primary-gradient);
	opacity: 0;
	transition: opacity 250ms ease;
	z-index: -1;
	border-radius: 20px;
	backdrop-filter: blur(8px);
}

nav a:hover::before,
nav a.active::before {
	opacity: 0.15;
}

nav a:hover {
	color: var(--text-color);
	transform: translateY(-2px);
}

nav a.active {
	color: var(--primary-color);
	font-weight: 500;
}

.user-info {
	display: flex;
	align-items: center;
	gap: 0.75rem;
	padding: 0.5rem 1rem;
	background: rgba(137, 81, 255, 0.1);
	border-radius: 20px;
	transition: transform 250ms ease;
	backdrop-filter: blur(8px) saturate(180%);
	border: 1px solid rgba(255, 255, 255, 0.1);
	height: 40px;
}

.user-info i {
	color: var(--text-secondary);
}

.user-info:hover {
	background: rgba(137, 81, 255, 0.15);
	transform: translateY(-1px);
}

.user-name {
	color: var(--text-color);
	font-weight: var(--font-weight-normal);
	font-size: 0.8rem;
}

/* Main Content */
main {
	margin: 1.4rem 2rem;
}

.main-areas {
	display: flex;
	flex-direction: row;
	gap: 1.5rem;
	align-items: start;
}

.dashboard-grid {
	width: 100%;
	display: grid;
	gap: 1.5rem;
	grid-template-columns: repeat(auto-fit, minmax(90px, 1fr));
	grid-template-areas:
		"salutation accounts transactions transactions"
		"calendar stocks stocks cards"
		"goals stocks stocks cards";
}

/* Card Styles Base */
.dashboard-card,
.assistant-detached {
	background: rgba(30, 30, 30, 0.35);
	backdrop-filter: blur(16px) saturate(180%);
	border-radius: var(--border-radius);
	padding: 1rem 1rem 1.4rem;
	border: 1px solid rgba(255, 255, 255, 0.07);
	box-shadow:
		0 4px 6px -1px rgba(0, 0, 0, 0.2),
		inset 0 1px 1px rgba(255, 255, 255, 0.03);
	position: relative;
	z-index: 1;
	overflow: hidden;
}

.dashboard-card {
	transition: transform 250ms ease;
}

.dashboard-card::before {
	content: '';
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	background: radial-gradient(circle at top right,
			rgba(119, 37, 251, 0.011) 60%,
			transparent 100%);
	pointer-events: none;
	border-radius: var(--border-radius);
}

.dashboard-card:hover:not(.assistant) {
	transform: translateY(-2px);
	box-shadow: var(--shadow-lg);
}

.dashboard-card h2,
.assistant-detached h2 {
	color: var(--text-primary);
	font-size: 0.96em;
	font-weight: 200;
	display: flex;
	align-items: center;
	gap: 0.5rem;
	cursor: default;
}

/* Salutation card */
.dashboard-card.salutation {
	grid-area: salutation;
	background: rgba(203, 60, 255, 0.006);
	position: relative;
	border: 1px solid rgba(255, 255, 255, 0.05);
	box-shadow:
		0 4px 6px -1px rgba(0, 0, 0, 0.2),
		inset 0 1px 1px rgba(255, 255, 255, 0.03);
}

.dashboard-card.salutation h3 {
	font-weight: 300;
	font-size: 0.89rem;
	white-space: nowrap;
	text-overflow: ellipsis;
	overflow: hidden;
}

.dashboard-card.accounts {
	grid-area: accounts;
	padding-left: 1rem;
	padding-right: 0.8rem;
}

.dashboard-card.cards {
	grid-area: cards;
	/* grid-row: span 2; */
}

.dashboard-card.transactions {
	grid-area: transactions;
}

.dashboard-card.stocks {
	grid-area: stocks;
}

.dashboard-card.stocks h2 {
	padding-left: 1rem;
	margin-bottom: 0;
}

.dashboard-card.calendar {
	grid-area: calendar;
	padding: 1rem;
	display: flex;
	flex-direction: column;
}

.dashboard-card.goals {
	grid-area: goals;
}

.goals .goals-list {
	display: flex;
	flex-direction: row;
	/* gap: 1.7rem; */
	align-items: start;
	flex-wrap: wrap;
}

.goals .goals-list .goal-item {
	display: flex;
	flex-direction: row;
	align-items: center;
	justify-content: center;
	gap: 1rem;
	padding: 0.8rem;
}

.goals .goals-list .goal-item .goal-item-info {
	display: flex;
	flex-direction: column;
	justify-content: space-evenly;
}

.goals .goals-list .goal-item .goal-item-info-type {
	font-size: 0.7rem;
	font-weight: 400;
}

.goals .goals-list .goal-item .goal-item-info-name {
	font-size: 12px;
	font-weight: 300;
	color: var(--text-secondary);
}

.goals .goals-list .goal-item .goal-item-info-details {
	font-size: 0.67rem;
	font-weight: 200;
}

.goals .goals-list .goal-item progress-ring {
	max-height: 45px;
	position: relative;
	font-size: 1.5rem;
	font-weight: 300;
	top: 1px;
}

.assistant-container {
	position: sticky;
	top: 93px;
	display: none;
	overflow: hidden;
	transition: width 200ms cubic-bezier(0.4, 0, 0.2, 1), opacity 500ms cubic-bezier(0.4, 0, 0.2, 1);
	max-width: 40%;
	width: 430px;
	opacity: 0;

}

.assistant-container.visible {
	display: block;
	opacity: 1;
}

.dashboard-card.assistant {
	-ms-overflow-style: none;
	scrollbar-width: none;
	display: flex;
	flex-direction: column;
	flex-shrink: 0;
	flex-basis: auto;
	position: sticky;
	height: calc(100vh - 170px);
	overflow: visible;
}

.assistant-detached {
	position: fixed;
	top: 60px;
	left: calc(100% - 390px);
	height: 90%;
	min-width: 365px;
	width: 365px;
	min-height: 400px;
	max-width: 1200px;
	max-height: calc(100vh - 80px);
	/* Ajustem el max-height per deixar marge superior i inferior */
	background-color: #00000022;
	backdrop-filter: blur(13px);
	border-radius: 20px;
	border-bottom-right-radius: 0;
	box-shadow: 0 2px 20px 6px rgba(0, 0, 0, 0.22);
	display: flex;
	flex-direction: column;
	border: 1px solid rgba(255, 255, 255, 0.15);
	z-index: 1000;
	will-change: transform;
	resize: both;
	overflow: hidden;
	opacity: 0;
	pointer-events: none;
	visibility: hidden;
	padding: 0.9rem 1.2rem 1rem;
}

.assistant-detached.visible {
	opacity: 1;
	pointer-events: all;
	visibility: visible;
}

.assistant-detached.dragging {
	opacity: 0.7 !important;
	/* transition: none !important; */
	will-change: transform !important;
}

.assistant-detached.dragging .assistant-detached-header {
	cursor: grabbing !important;
}

.assistant-detached.animating * {
	transition: none !important;
}

.salutation::before {
	content: '';
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	background: radial-gradient(circle at top right, rgba(203, 60, 255, 0.05), transparent 50%);
	pointer-events: none;
	border-radius: 8px;
}

.salutation::after {
	content: '';
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	background: linear-gradient(45deg, rgba(127, 37, 251, 0.1), transparent);
	pointer-events: none;
}

.saldo-amount {
	position: relative;
	z-index: 1;
	font-size: 2.2rem;
	color: var(--text-color);
	opacity: 0.9;
	margin-bottom: 0.5rem;
	margin-bottom: 1rem;
	text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
	letter-spacing: 0.024em;
	font-family: system-ui;
	font-feature-settings: "tnum" on, "lnum" on;
	line-height: 1;
}

.saldo-amount::after {
	content: '\f153';
	font-family: 'Font Awesome 6 Free';
	font-weight: 900;
	margin-left: 0.3rem;
	font-size: 0.8em;
	position: relative;
	top: -2px;
}

.saldo-change {
	position: relative;
	z-index: 1;
	display: flex;
	align-items: center;
	gap: 0.5rem;
	font-size: 13px;
	padding: 0.2rem 0.58rem;
	background: rgba(255, 255, 255, 0.1);
	border-radius: 20px;
	width: fit-content;
	cursor: default;
}

.saldo-change .fas {
	font-size: 15px;
}

.saldo-change.positive {
	/* background: rgba(0, 184, 148, 0.15);
	color: var(--success-color); */
	background-color: rgba(0, 184, 148, 0.7);
	color: white;
	border: 1px solid rgba(0, 184, 148, 0.08);
}

.saldo-change.negative {

	/* background: rgba(255, 107, 107, 0.15);
	color: var(--danger-color); */
	background-color: rgba(255, 107, 107, 0.7);
	color: white;
	border: 1px solid rgba(255, 107, 107, 0.08);
}

.compte-list {
	display: flex;
	flex-direction: column;
	gap: 1rem;
}

.compte-item {
	display: flex;
	gap: 10px;
	justify-content: space-between;
	align-items: center;
	padding: 0.6rem 0.8rem;
	border-radius: var(--border-radius);
	/* background: rgba(14, 67, 251, 0.05); */
	transition: all 250ms ease;
	position: relative;
	overflow: hidden;
}

.compte-item::before {
	content: '';
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	background: var(--accent-gradient);
	opacity: 0;
	transition: opacity 250ms ease;
}

.compte-item:hover::before {
	opacity: 0.05;
}

.compte-item:hover {
	background: rgba(37, 92, 112, 0.15);
}

.compte-info {
	position: relative;
	z-index: 1;
	display: flex;
	flex-direction: column;
	flex: 1;
	gap: 1px;
	min-width: 0;
}

.compte-info h3 {
	font-size: 0.9rem;
	color: #dfdfdf;
	font-weight: 300;
	text-shadow: 0 2px 4px rgba(0, 0, 0, 0.32);
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
	letter-spacing: 0.02em;
}

.compte-numero {
	display: flex;
	align-items: center;
	justify-content: start;
	color: var(--text-secondary);
	font-family: 'Poppins';
	font-size: 0.8rem;
	font-weight: 200;
	letter-spacing: 0.17em;
	gap: 3px;
	white-space: nowrap;
	text-overflow: ellipsis;
	flex-shrink: 1;
}

.compte-numero .compte-numero-mask {
	font-size: 4px;
	letter-spacing: 0.48em;
	white-space: nowrap;
	text-overflow: ellipsis;
	position: relative;
	margin-right: 0.1rem;
}

.compte-numero .compte-numero-last {
	white-space: nowrap;
	text-overflow: ellipsis;
}

.compte-saldo {
	position: relative;
	z-index: 1;
	font-weight: 300;
	font-size: 0.98rem;
	letter-spacing: 0.05em;
	color: var(--text-secondary);
}

.compte-saldo::after {
	content: '\f153';
	font-family: 'Font Awesome 6 Free';
	font-weight: 800;
	margin-left: 3px;
	font-size: 0.8em;
	position: relative;
	top: -1px;
}

.compte-amount {
	position: relative;
	z-index: 1;
	display: flex;
	flex-direction: column;
	align-items: flex-end;
	gap: 1px;
}

.compte-change {
	position: relative;
	display: flex;
	align-items: center;
	gap: 0.5rem;
	font-size: 12px;
	padding: 0.06rem 0.4rem;
	background: rgba(255, 255, 255, 0.1);
	border-radius: 20px;
	width: fit-content;
	letter-spacing: 0.07em;
	cursor: default;
	font-weight: 300;
	text-shadow: 0 0 1px rgba(0, 0, 0, 0.88);
}

.compte-change.positive {
	background-color: rgba(0, 184, 148, 0.7);
	color: white;
	border: 1px solid rgba(0, 184, 148, 0.08);
}

.compte-change.negative {
	background-color: rgba(255, 107, 107, 0.7);
	color: white;
	border: 1px solid rgba(255, 107, 107, 0.08);
}

.moviments-list {
	list-style-type: disc;
	max-height: 270px;
	overflow-x: hidden;
	overflow-y: auto;
	display: flex;
	flex-direction: column;
	gap: 0.6rem;
	border-radius: var(--border-radius);
}

.moviments-list::-webkit-scrollbar {
	width: 6px;
}

.moviments-list::-webkit-scrollbar-track {
	background: transparent;
}

.moviments-list::-webkit-scrollbar-thumb {
	background: rgba(255, 255, 255, 0.08);
	border-radius: 3px;
}

.moviments-list::-webkit-scrollbar-thumb:hover {
	background: rgba(255, 255, 255, 0.3);
}

.moviment-item {
	display: flex;
	align-items: center;
	gap: 1rem;
	padding: 0 0.8rem;
	transition: background-color 150ms ease;
	position: relative;
	overflow: hidden;
	border-radius: var(--border-radius);
	min-height: 42px;
}

/* .moviment-item.alert {
	background-color: #683234;
	color: var(--text);
	font-weight: 400;
	border-radius: 1rem 0 0.6rem 0.6rem;
	padding: 0.8rem 1rem 0.6rem 1rem;
} */

.moviment-item::before {
	content: '';
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	background: var(--accent-gradient);
	opacity: 0;
	width: 100%;
	transition: opacity 250ms ease;
}

.moviment-item:hover::before {
	opacity: 0.06;
}

.moviment-item:hover {
	background: rgba(37, 92, 112, 0.15);
}

.moviment-icon {
	flex-shrink: 0;
	background: #3593c6;
	color: white;
	width: 24px;
	aspect-ratio: 1;
	border-radius: 50%;
	display: flex;
	align-items: center;
	justify-content: center;
	box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
	position: relative;
	z-index: 1;
	font-size: 10px;
}

.moviment-info {
	display: flex;
	flex-direction: row;
	position: relative;
	z-index: 1;
	flex-grow: 1;
	flex-shrink: 1;
	flex-wrap: nowrap;
	text-overflow: ellipsis;
	align-items: center;
	gap: 0.8rem;
}

.moviment-data {
	display: flex;
	flex-direction: column;
	gap: 0;
	color: rgb(232, 232, 232);
	font-size: 0.78rem;
	font-weight: 100;
	cursor: default;
	white-space: nowrap;
	flex-shrink: 1;
	overflow: hidden;
}


.moviment-info .moviment-data h3 {
	font-size: 0.85rem;
	color: #dfdfdf;
	font-weight: 200;
	text-shadow: 0 2px 4px rgba(0, 0, 0, 0.32);
	cursor: default;
	white-space: nowrap;
	text-overflow: ellipsis;
	overflow: hidden;
	flex-grow: 0;
}

.moviment-info .moviment-data .moviment-data-date {
	font-size: 0.7rem;
	color: #dfdfdf;
	font-weight: 200;
}

.moviment-amount {
	position: relative;
	z-index: 1;
	padding: 0.06rem 0.4rem;
	border-radius: 15px;
	letter-spacing: 0.05em;
	font-family: var(--font-family);
	font-feature-settings: "tnum" on, "lnum" on;
	font-size: 12px;
	white-space: nowrap;
	font-weight: 300;
	text-shadow: 0  1px rgba(0, 0, 0, 0.88);
}

.moviment-amount::after {
	content: '\f153';
	font-family: 'Font Awesome 6 Free';
	font-weight: 600;
	margin-left: 3px;
	font-size: 10px;
	opacity: 0.9;
	position: relative;
}

.moviment-amount.despesa {
	background-color: rgba(255, 107, 107, 0.7);
	color: white;
}

.moviment-amount.ingrés {
	background-color: rgba(0, 184, 148, 0.7);
	color: white;
}

.cards h2 {
	margin-bottom: 0.7rem;
	cursor: default;
}

.grid-footer-spacer {
	grid-area: unset;
	grid-column: 1 / 1;
	background: transparent;
	pointer-events: none;
}

/* Footer */
footer {
	background: rgba(18, 18, 18, 0.3);
	backdrop-filter: blur(16px) saturate(180%);
	color: var(--text-secondary);
	padding: 0.5rem 0;
	position: fixed;
	bottom: 0;
	width: 100%;
	box-shadow: 0 -4px 6px -1px rgba(0, 0, 0, 0.2);
	border-top: 1px solid rgba(255, 255, 255, 0.1);
	display: flex;
	justify-content: space-between;
	align-items: center;
	font-size: 0.8rem;
	font-weight: 300;
	cursor: default;
	z-index: 800;
}

.footer-text {
	width: 100%;
	max-width: 92%;
	margin: 0 auto;
	display: flex;
	justify-content: space-between;
	align-items: center;
	gap: 1rem;
	overflow: hidden;
	white-space: nowrap;
	text-overflow: ellipsis;
	min-width: 0;
}

.footer-text > div.legal-text {
	display: flex;
	align-items: center;
	gap: 0.5rem;
	white-space: nowrap;
	flex-grow: 0;
	flex-shrink: 1;
	overflow: hidden;
	min-width: 0;
}

.legal-text span {
	overflow: hidden;
	white-space: nowrap;
	text-overflow: ellipsis;
	display: inline-block;
	max-width: 100%;
}

.truncate {
	white-space: nowrap;
	text-overflow: ellipsis;
	display: inline-block;
}

.footer-logo {
	width: 60px;
	display: block;
	position: relative;
	top: -1px;
}

.language-switcher {
	background: none;
	border: none;
	border-radius: 10px;
	display: flex;
	align-items: center;
	justify-content: center;
	cursor: pointer;
	transition: all 250ms ease;
	color: var(--text-secondary);
	padding: 0.5rem 1rem;
}

.language-switcher:hover {
	background: rgba(255, 255, 255, 0.1);
	transform: translateY(-1px);
}

.language-switcher > button {
	font-weight: 200;
}

.language-switcher i {
	position: relative;
	top: -1px;
	color: var(--text-secondary);
	font-size: 17px;
	opacity: 0.8;
	margin-left: 0.62em;
}

.language-switcher:hover i {
	opacity: 1;
}

/* Responsive Design */
/*
@media (max-width: 768px) {
	.dashboard-grid {
		grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
	}

	.salutation,
	.transactions,
	.cards {
		grid-column: span 1;
	}

	.header-content {
		flex-direction: column;
		gap: 1rem;
	}

	nav ul {
		flex-wrap: wrap;
		justify-content: center;
	}

	footer {
		padding: 1rem;
	}
} */

.header-actions {
	display: flex;
	align-items: center;
	gap: 2.5rem;
}

.weather-container {
	display: flex;
	align-items: center;
	gap: 0.6rem;
	font-size: 0.8rem;
	font-weight: 200;
	letter-spacing: 0.05em;
	/* color: var(--text-secondary); */
	cursor: default;
}

.weather-icon {
	height: 37px;
	position: relative;
	top: 1px;
}

.weather-info {
	display: flex;
	flex-direction: column;
	line-height: 16px;
}

.weather-city {
	font-weight: 200;
	letter-spacing: 1.01px;
}

.weather-temperature {
	font-size: 0.7rem;
}

.weather-temperature-value {
	font-weight: 400;
}

.support-button {
	display: flex;
	align-items: center;
	gap: 0.5rem;
	padding: 0.5rem 1rem;
	background: rgba(0, 184, 148, 0.1);
	backdrop-filter: blur(8px) saturate(180%);
	border: 1px solid rgba(255, 255, 255, 0.1);
	border-radius: 20px;
	color: var(--text-color-weak);
	font-weight: 200;
	cursor: pointer;
	transition: all 250ms ease;
	position: relative;
	min-width: 40px;
	overflow: hidden;
	letter-spacing: 0.04rem;
}

.support-button:hover {
	background: rgba(0, 184, 148, 0.15);
	transform: translateY(-1px);
	color: var(--text-color);
}

.support-button i {
	color: var(--success-color);
	font-size: 1.1rem;
}

.support-button span {
	white-space: nowrap;
}

.support-popover {
	position: fixed;
	background-color: #0000003b;
	backdrop-filter: blur(15px);
	border: 1px solid rgba(255, 255, 255, 0.115);
	border-radius: var(--border-radius);
	padding: 0.7rem;
	width: 280px;
	opacity: 0;
	visibility: hidden;
	transition: opacity 200ms ease, visibility 250ms linear, transform 200ms ease-out;
	box-shadow: var(--shadow-lg);
	z-index: 1000;
	top: 4.3rem;
	right: 1rem;
	transform: translateY(-20px);
	font-size: 0.8rem;
}

.support-button {
	position: relative;
}

.support-popover.visible {
	opacity: 1;
	visibility: visible;
	transform: translateY(0);
}

.support-option {
	display: flex;
	align-items: center;
	gap: 0.6rem;
	padding: 0.7rem;
	color: var(--text-color);
	text-decoration: none;
	border-radius: 12px;
	transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1), transform 250ms cubic-bezier(0.4, 0, 0.2, 1);
	position: relative;
	overflow: hidden;
	font-weight: 100;
}

.support-option::before {
	content: '';
	position: absolute;
	inset: 0;
	background: var(--primary-gradient);
	opacity: 0;
	transition: opacity 250ms ease;
}

.support-option:hover {
	transform: translateX(4px);
}

.support-option:hover::before {
	opacity: 0.1;
}

.support-option i,
.support-option-text {
	position: relative;
	z-index: 1;
}

.support-option i {
	font-size: 1.2rem;
	width: 32px;
	height: 32px;
	display: flex;
	align-items: center;
	justify-content: center;
	color: var(--success-color);
}

.support-option-text {
	display: flex;
	flex-direction: column;
	gap: 0.25rem;
	text-align: left;
	font-size: 0.7rem;
}

.support-option-title {
	font-weight: var(--font-weight-medium);
	font-size: 0.9rem;
}

.support-option-description {
	color: var(--text-secondary);
	font-size: 0.8rem;
	font-weight: 300;
}

.moviment-amount::first-letter,
.compte-saldo::first-letter,
.targeta-limit::first-letter,
.saldo-amount::first-letter {
	margin-right: 0;
}

/*
.background-logo {
	position: fixed;
	top: 0;
	left: 0;
	width: 100vw;
	height: 100vh;
	display: flex;
	align-items: center;
	justify-content: center;
	pointer-events: none;
	z-index: -2;
} */

.background-logo::before {
	content: '';
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	background-image: url('../assets/images/logo.webp');
	background-size: cover;
	background-position: center;
	background-repeat: no-repeat;
	z-index: -2;
	filter: blur(60px);
	opacity: 0.2;
}

body.preload .background-logo img {
	visibility: hidden;
}

.dashboard-card .cards-container {
	display: flex;
	flex-wrap: wrap;
	gap: 1.1rem;
	justify-content: flex-start;
	flex-direction: row;
	min-width: 100%;
	container-name: cards-container;
	container-type: inline-size;
}

.targeta-container {
	display: flex;
	flex-direction: column;
	flex: 1 1 calc(50% - 2px);
	max-width: 210px;
	gap: 2px;
}

@container cards-container (width <=400px) {
	.targeta-container {
		flex: 1 1 100%;
	}
}

.targeta {
	position: relative;
	aspect-ratio: 1586 / 1000;
	text-align: center;
	transition: transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275) 0.5s;
	transform-style: preserve-3d;
	will-change: box-shadow, transform;
	border-radius: 9px;
	border: 1.5px solid rgba(255, 255, 255, 0.09);
	transform: translateZ(0);
	overflow: hidden;
	font-size: 1.2vw;
	box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
}

.targeta > * {
	position: absolute;
}

/*
.targeta:hover {
	transform: rotateY(180deg);
}
*/

.alerts-visible .moviment-item.alert {
	background: rgba(155, 47, 47, 0.2);
	/* border: 1.5px solid rgba(255, 147, 147, 0.2); */
	animation: moviment-item-alert-pulse 640ms infinite;
	border-color: rgba(255, 147, 147, 0.2);
}

@keyframes moviment-item-alert-pulse {
	0% {
		box-shadow:
			0 0 7px rgba(255, 107, 107, 0.12),
			inset 0 0 1px 2px rgba(255, 107, 107, 0.05);
	}

	50% {
		box-shadow:
			0 0 17px rgba(255, 107, 107, 0.28),
			inset 0 0 1px 2px rgba(255, 107, 107, 0.2);
	}

	100% {
		box-shadow:
			0 0 7px rgba(255, 107, 107, 0.12),
			inset 0 0 1px 2px rgba(255, 107, 107, 0.05);
	}
}

.alerts-visible .targeta.alert {
	background: rgba(155, 47, 47, 0.2);
	/* border: 1.5px solid rgba(255, 147, 147, 0.2); */
	animation: alertPulse 640ms infinite;
	border-color: rgba(255, 147, 147, 0.2);
}

.alerts-visible .targeta.alert .targeta-title-name {
	font-size: 0.85rem;
	color: #dfdfdf;
	font-weight: 200;
	text-shadow: 0 2px 4px rgba(0, 0, 0, 0.32);
	letter-spacing: 0.08em;
}

.alerts-visible .targeta.alert .targeta-title-name {
	font-size: 0.85rem;
	color: #dfdfdf;
	font-weight: 200;
	text-shadow: 0 2px 4px rgba(0, 0, 0, 0.32);
	letter-spacing: 0.08em;
}

@keyframes alertPulse {
	0% {
		box-shadow:
			0 1px 15px rgba(255, 107, 107, 0.15),
			inset 0 0 3px rgba(255, 107, 107, 0.1);
	}

	50% {
		box-shadow:
			0 1px 30px rgba(255, 107, 107, 0.4),
			inset 0 0 3px rgba(255, 107, 107, 0.4);
	}

	100% {
		box-shadow:
			0 1px 15px rgba(255, 107, 107, 0.15),
			inset 0 0 3px rgba(255, 107, 107, 0.1);
	}
}

.targeta-front,
.targeta-back {
	position: absolute;
	inset: 0;
	box-sizing: border-box;
	width: 100%;
	height: 100%;
	backface-visibility: hidden;
	background: #ffffff12;
}

.targeta-front {
	padding: 0;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.targeta-back {
	padding: 0;
	display: flex;
	flex-direction: column;
	justify-content: center;
	align-items: center;
	gap: 1rem;
	transform: rotateY(180deg);
}

.targeta-chip {
	position: absolute;
	top: 1.23em;
	left: 1em;
	width: 1.5em;
	/* height: 2em; */
	border-radius: 0.3em;

	/*
	position: absolute;
	top: calc(50% - 15px);
	left: 20px; */
}

.targeta-chip img {
	width: 100%;
	height: auto;
	opacity: 0.85;
}

.targeta-details {
	text-align: left;
	position: absolute;
	bottom: 0.2rem;
	width: 100%;
}

.targeta-number {
	position: absolute;
	bottom: 11px;
	left: 14px;
	font-family: 'Poppins', sans-serif;
	font-size: 0.73rem;
	font-weight: 300;
	letter-spacing: 3px;
	color: white;
	margin-bottom: 1rem;
	/* text-shadow: 0 0 2px rgba(0, 0, 0, 0.6); */
}

.targeta-name {
	font-family: 'Josefin Sans', sans-serif;
	font-size: 0.5rem;
	color: rgba(255, 255, 255, 0.8);
	text-transform: uppercase;
	letter-spacing: 2px;
	bottom: 12px;
	left: 14px;
	position: relative;
	/* text-shadow: 0 0 2px rgba(0, 0, 0, 0.6); */
	font-weight: 600;
}

.targeta-expiry {
	font-family: 'Josefin Sans', sans-serif;
	font-size: 0.5rem;
	color: rgba(255, 255, 255, 0.8);
	/* text-shadow: 0 0 2px rgba(0, 0, 0, 0.6); */
	letter-spacing: 2px;
	position: absolute;
	bottom: 12px;
	right: 1rem;
	text-align: right;
}

.targeta-logo {
	position: absolute;
	top: 0.4rem;
	right: 0.9rem;
	width: 2.8em;
}

.targeta-logo img {
	width: 100%;
	height: auto;
	position: absolute;
	height: auto;
	opacity: 0.7;
	top: 0px;
	right: 0px;
}

.targeta.mastercard .targeta-logo img {
	top: 8px;
	opacity: 0.8;
}

.targeta-cvv {
	font-family: 'Josefin Sans', sans-serif;
	font-size: 0.7rem;
	color: white;
	letter-spacing: 2px;
	/* text-shadow: 0 0 2px rgba(0, 0, 0, 0.6); */
	right: 10px;
	top: 73px;
	position: absolute;
}

.targeta-stripe {
	width: 100%;
	height: 40px;
	background: rgba(255, 255, 255, 0.1);
	/* backdrop-filter: blur(2px); */
	margin: 1rem 10px 6rem;
	border-radius: 2px;
	/* box-shadow: inset 0 1px 1px rgba(255, 255, 255, 0.03); */
}

.targeta-back-logo {
	text-align: center;
}

.targeta-title {
	color: #d4d4d4;
	font-size: 0.8rem;
	letter-spacing: 0.085em;
	font-weight: 300;
	text-shadow: rgba(0, 0, 0, 0.2) 0px 2px 4px;
	display: flex;
	align-items: center;
	justify-content: space-between;
}

.targeta-title-name {
	display: flex;
	align-items: center;
	gap: 10px;
}

/* Ajustem l'estil del switch pel títol */
.targeta-title .switch {
	margin-left: 12px;
	/* transform: scale(0.9); */
	/* opacity: 0.9; */
}

.targeta-title .slider {
	background-color: rgba(255, 255, 255, 0.11);
}

img.card-under-age {
	margin-left: 3px;
	height: 14px;
	width: 15px;
	filter: invert(57%) sepia(90%) saturate(467%) hue-rotate(121deg) brightness(100%) contrast(45%)
}

.targeta-available {
	text-align: end;
	margin-top: 0.5rem;
	letter-spacing: 0.05em;
	color: var(--text-secondary);
	font-size: 0.7rem;
	font-weight: 300;
	position: relative;
	z-index: 1;
}

.targeta.visa .targeta-logo img {
	filter: brightness(0) invert(1);
}

/* Efectes pels cercles de Mastercard */
.targeta.mastercard .targeta-logo path[fill="#eb001b"] {
	fill: #ffffff !important;
}

.targeta.mastercard .targeta-logo path[fill="#f79e1b"] {
	fill: #e58f19 !important;
}

.chat-close {
	background: transparent;
	border: none;
	color: #b9b9b9;
	cursor: pointer;
	padding: 0.3rem;
	margin-left: 0.6rem;
	border-radius: 50%;
	transition: background-color 0.2s;
	font-size: 1.1rem;
	flex-shrink: 0;
	width: 38px;
	height: 38px;
	position: relative;
	z-index: 2;
}

.send-button:disabled {
	opacity: 0.3;
	cursor: not-allowed;
	transform: none !important;
	background: gray;
	filter: grayscale(1);
}

.send-button:disabled:hover {
	transform: none !important;
	box-shadow: none !important;
}

/* Barra de resize */
.resize-handle {
	position: absolute;
	left: -1px;
	top: 50%;
	transform: translateY(-50%);
	transform-origin: center;
	transition: transform 250ms ease;
	width: 1rem;
	height: 36px;
	background: transparent;
	cursor: col-resize;
	touch-action: none;
	filter: grayscale(100%);
}

.resize-handle:hover {
	filter: grayscale(0%);
	transform: translateY(-50%) scale(1.7);
}

.resize-handle:active {
	transform: translateY(-50%) scale(1.1);
}

.resize-handle::after {
	content: '';
	position: absolute;
	inset: 10px 0 10px 0;
	background-image: url('../assets/icons/resize.webp');
	background-size: contain;
	background-position: center;
	background-repeat: no-repeat;
	z-index: 1;
	opacity: 0.6;
	transition: opacity 250ms ease;
	filter: brightness(1) invert(.7) sepia(.5) saturate(400%);
}

/* Amaguem el resize handler per defecte */
.dashboard-card.assistant::-webkit-resizer {
	display: none;
}

.dashboard-card.assistant::-moz-resizer {
	display: none;
}

/* Amaguem la scrollbar horitzontal */
.dashboard-card.assistant::-webkit-scrollbar {
	display: none;
}

.salutation-message-container {
	display: flex;
	flex-direction: column;
	gap: 8px;
	margin: 1.1em 0 1.8em;
}

.salutation-message {
	display: flex;
	align-items: center;
	gap: 8px;
	/* padding: 8px 16px; */
	background: none;
	border: none;
	border-radius: 20px;
	color: white;
	cursor: default;
	transition: background-color 0.3s ease;
	font-size: 0.8em;
	cursor: default;
}

.salutation-message .user-name {
	font-size: 1.1em;
	font-weight: 300;
	letter-spacing: 0.032em;
}

.chat-title-main {
	display: flex;
	align-items: center;
	gap: 0.4rem;
}

button.popoutChat, button.maximizeChat {
	background: none;
	border: none;
	cursor: pointer;
	transition: opacity 250ms ease, transform 250ms ease;
	position: relative;
	top: 1px;
	opacity: 0.45;
	color: var(--text-secondary);
	transform: scale(0.92);
}

button.popoutChat {
	top: 3px;
}

button.maximizeChat {
	font-size: 16px;
}

button.popoutChat:hover, button.maximizeChat:hover {
	opacity: 1;
}

button.popoutChat .popoutChatIcon, button.maximizeChat .maximizeChatIcon {
	width: 16px;
	height: 16px;
	filter: invert(1);
}

@media (max-width: 1024px) {
	.support-button {
		padding: 0.5rem;
	}

	.support-button span {
		display: none;
	}
}

.targeta-title-switch {
	transform: scale(0.7);
}

input-multiline {
	width: 100%;
	min-width: 100%;
	height: 100%;
	min-height: 85px;
	max-height: 120px;
}

.chat-title-switch {
	transform: scale(0.4);
}

stock-chart {
	display: block;
	width: 100%;
	height: 100%;
	max-height: 400px;
	/* aspect-ratio: 3 / 2; */
}

.chat-title {
	display: flex;
	flex-direction: column;
	gap: 0.25rem;
	flex: 1;
}

.chat-title-wrapper {
	display: flex;
	justify-content: space-between;
	align-items: center;
	width: 100%;
}

.chat-title-main {
	display: flex;
	align-items: center;
	gap: 10px;
}

.chat-title-main img.pop-out-icon {
	width: 16px;
	height: 16px;
	opacity: 0.65;
	transition: opacity 250ms ease, transform 250ms ease;
	cursor: pointer;
	filter: brightness(0) invert(1);
	position: relative;
}

.chat-title-main img.pop-out-icon:hover {
	opacity: 1;
	transform: translateY(-1px);
}

.chat-close {
	background: transparent;
	border: none;
	color: #b9b9b9;
	cursor: pointer;
	padding: 0.3rem;
	margin-left: 0.6rem;
	border-radius: 50%;
	transition: background-color 0.2s;
	font-size: 1.1rem;
	flex-shrink: 0;
	width: 38px;
	height: 38px;
}

.chat-close > i,
.chat-close > i::before {
	cursor: pointer;
}

.chat-close:hover {
	background: rgba(255, 255, 255, 0.1);
}

.assistant-detached-header {
	cursor: grab !important;
	user-select: none;
}

.assistant-detached-header img {
	pointer-events: none;
}


/* Maximització de la finestra detached */
.assistant-detached.visible.maximized {
	position: fixed !important;
	top: 50% !important;
	left: 50% !important;
	transform: translate(-50%, -50%) !important;
	width: calc(100vw - 80px) !important;
	height: calc(100vh - 170px) !important;
	max-width: 1200px;
	max-height: 900px;
	backdrop-filter: blur(18px);
	display: flex;
	flex-direction: column;
	z-index: 9999;
	resize: none;
	border-bottom-right-radius: 20px;
	transition: width 800ms cubic-bezier(0.2,0.8,0.2,1), height 800ms cubic-bezier(0.2,0.8,0.2,1), top 800ms cubic-bezier(0.2,0.8,0.2,1), left 800ms cubic-bezier(0.2,0.8,0.2,1), transform 1000ms cubic-bezier(0.2,0.8,0.2,1);
}

.chat-powered-by {
	font-size: 10px;
	font-weight: 200;
	color: var(--text-color-weak);
	display: flex;
	align-items: center;
	gap: 3px;
	opacity: 0.8;
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
	text-rendering: optimizeLegibility;
	position: relative;
	top: 1px;
	padding-right: 3px;
}

.chat-powered-by > .agentforce-logo {
	margin-left: 2px;
	height: 16px;
	width: auto;
	vertical-align: middle;
	opacity: 0.9;
}

@font-face {
	font-family: 'Nunito';
	src: url('../assets/fonts/Nunito-ExtraLight.woff2') format('woff2');
	font-weight: 100;
	font-style: normal;
	font-display: swap;
}

@font-face {
	font-display: swap;
	font-family: 'Josefin Sans';
	font-style: normal;
	font-weight: 400;
	src: url('../assets/fonts/josefin-sans-v32-latin-regular.woff2') format('woff2');
}

@font-face {
	font-display: swap;
	font-family: 'Josefin Sans';
	font-style: normal;
	font-weight: 600;
	src: url('../assets/fonts/josefin-sans-v32-latin-600.woff2') format('woff2');
}

@font-face {
	font-display: swap;
	font-family: 'Poppins';
	font-style: normal;
	font-weight: 100;
	src: url('../assets/fonts/poppins-v23-latin-100.woff2') format('woff2');
}

@font-face {
	font-display: swap;
	font-family: 'Poppins';
	font-style: normal;
	font-weight: 200;
	src: url('../assets/fonts/poppins-v23-latin-200.woff2') format('woff2');
}

@font-face {
	font-display: swap;
	font-family: 'Poppins';
	font-style: normal;
	font-weight: 300;
	src: url('../assets/fonts/poppins-v23-latin-300.woff2') format('woff2');
}

@font-face {
	font-display: swap;
	font-family: 'Poppins';
	font-style: normal;
	font-weight: 400;
	src: url('../assets/fonts/poppins-v23-latin-regular.woff2') format('woff2');
}

@font-face {
	font-display: swap;
	font-family: 'Source Sans Pro';
	font-style: normal;
	font-weight: 400;
	src: url('../assets/fonts/source-sans-3-v18-latin-regular.woff2') format('woff2');
}

@font-face {
	font-display: swap;
	font-family: 'Source Sans Pro';
	font-style: normal;
	font-weight: 600;
	src: url('../assets/fonts/source-sans-3-v18-latin-600.woff2') format('woff2');
}

@font-face {
	font-display: swap;
	font-family: 'Source Sans Pro';
	font-style: normal;
	font-weight: 300;
	src: url('../assets/fonts/source-sans-3-v18-latin-300.woff2') format('woff2');
}

/* Oculta totes les dashboard-card per defecte */
body .dashboard-card:not(.login-overlay) {
	display: none !important;

}

/* Mostra-les només quan el body té la classe .userLoginSuccess */
body.userLoginSuccess .dashboard-card {
	display: block !important;
}

progress-ring {
	width: 48px;
	height: 48px;
	display: inline-block;
}

.assistant-backdrop {
	position: fixed;
	top: 0;
	left: 0;
	width: 100vw;
	height: 100vh;
	background: rgba(20, 20, 30, 0.45);
	opacity: 0;
	pointer-events: none;
	z-index: 9998;
	transition: opacity 220ms cubic-bezier(0.4,0,0.2,1);
}
.assistant-detached.maximized ~ .assistant-backdrop {
	opacity: 1;
	pointer-events: auto;
}